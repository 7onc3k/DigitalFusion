---
import MobileMenu from "./MobileMenu.astro";
---
<div id="header-container" class="fixed top-8 left-6 right-6 md:top-12 md:left-12 md:right-12 z-50 transition-all duration-300 ease-in-out">
    <div class="header-background absolute inset-0 rounded-3xl transition-all duration-300 ease-in-out"></div>
    <header id="main-header" class="relative z-10">
        <nav class="flex justify-between items-center py-4 px-6">
            <div class="logo text-2xl md:text-3xl font-bold tracking-wider z-50">DigitalFusion</div>
            <div class="hidden md:block">
                <ul class="flex items-center">
                    <li class="mx-3"><a href="/" class="nav-link hover:text-gray-300 transition-colors duration-300 text-sm uppercase tracking-wider">Domů</a></li>
                    <li class="mx-3"><a href="/o-nas" class="nav-link hover:text-gray-300 transition-colors duration-300 text-sm uppercase tracking-wider">O nás</a></li>
                    <li class="mx-3"><a href="/sluzby" class="nav-link hover:text-gray-300 transition-colors duration-300 text-sm uppercase tracking-wider">Služby</a></li>
                    <li class="mx-3"><a href="/portfolio" class="nav-link hover:text-gray-300 transition-colors duration-300 text-sm uppercase tracking-wider">Portfolio</a></li>
                    <li class="mx-3"><a href="/kontakt" class="nav-link hover:text-gray-300 transition-colors duration-300 text-sm uppercase tracking-wider">Kontakt</a></li>
                </ul>
            </div>
            <MobileMenu />
        </nav>
    </header>
</div>
<style>
    #header-container {
        background-color: transparent;
        transition: height 0.3s ease-in-out, background-color 0.3s ease-in-out;
    }
    .header-background {
        background-color: rgba(255, 255, 255, 0);
        opacity: 1;
    }
    #header-container.scrolled .header-background,
    #header-container.menu-open .header-background {
        background-color: rgba(255, 255, 255, 0.5);
        backdrop-filter: blur(10px);
    }
    #header-container.scrolled .nav-link,
    #header-container.scrolled .logo,
    #header-container.menu-open .nav-link,
    #header-container.menu-open .logo {
        color: #000;
    }
</style>
<script>
    const headerContainer = document.getElementById('header-container');
    const scrollThreshold = 50;
    function handleScroll() {
        if (window.scrollY > scrollThreshold) {
            headerContainer?.classList.add('scrolled');
        } else {
            headerContainer?.classList.remove('scrolled');
        }
    }
    window.addEventListener('scroll', handleScroll);
</script>